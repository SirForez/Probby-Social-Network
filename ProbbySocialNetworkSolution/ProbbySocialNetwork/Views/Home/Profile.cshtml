@model ProbbySocialNetwork.Models.ViewModels.ProfileViewModel

@{
    ViewBag.Title = "Profile";
}

<h2>Profile</h2>

<div class="container">
    <div class="lhsNav">
        <img src="http://fc06.deviantart.net/fs49/f/2009/220/b/0/Spongebob_4_150x150_PNG_by_somemilk.png">
        <p>@Model.currentUser.UserName's Profile</p>
    </div>
    <div class="theContent">
        @using ProbbySocialNetwork.Models
        @foreach (Status s in Model.currentUserStatusHistory)
        {
            <div id="status">
                <h4>
                    @Model.currentUser.UserName:
                </h4>
                <div id="status-body">
                    <span id="status-body-post">
                        @s.Post | 
                    </span>
                    <span id"status-body-date">
                        @s.Date
                    </span>
                </div>
                <div id="status-comment">
                    @foreach (Comment c in Model.commentsForStatuses)
                    {
                        if (c.StatusID == s.ID)
                        {
                            <span id="status-comment-body" class="comment">
                                <h5>username: </h5>
                                <p>
                                    @c.Body | 
                                    @c.DateInserted
                                </p>
                            </span>
                        }
                    }
                </div>
                <div>
                    @using (Html.BeginForm("CreateComment", "Status", FormMethod.Post, new { id = "commentForm" }))
                    {
                    <input type="hidden" name="statusID" value="@s.ID" />
                    <div class="form-horizontal">
                        <label class="sr-only" for="commentText">Status</label>
                        <textarea class="form-control" rows="2" id="commentText" name="commentText"></textarea>
                        <button type="submit" class="btn btn-primary">Post</button>
                    </div>
                    @Html.ValidationSummary(false)
                    }
                </div>
            </div>
            
        }
    </div>
</div>

        @*
    <h2>
        @Model.currentUser.UserName's Profile
    </h2>

    @using ProbbySocialNetwork.Models
    @foreach(Status s in Model.currentUserStatusHistory)
    {
        <h3>
            @s.Date
        </h3>
        <p>
            @s.Post
        </p>
        foreach(Comment c in Model.commentsForStatuses)
        {
            if (c.StatusID == s.ID)
            {
                <p>
                    @c.Body
                    @c.DateInserted
                </p>
            }
        }
    }
*@
